{"version":3,"sources":["../../src/components/map.js"],"names":[],"mappings":";;;;;;;;AAAA;;;;AACA;;;;;;;;;;;;IAEM,G;;;AACF,iBAAY,KAAZ,EAAmB;AAAA;;AAAA,2FACT,KADS;;AAEf,cAAK,WAAL,GAAmB,KAAnB;;AAGA,YAAI,UAAU,aAAa,KAAK,KAAL,CAAW,KAAK,GAAL,KAAa,KAAK,MAAL,EAAxB,EAAuC,QAAvC,EAA3B;AACA,cAAK,KAAL,GAAa;AACZ,kBAAO,IADK;AAEZ,sBAAW,EAFC;AAGZ;AAHY,SAAb;AANe;AAWlB;;;;4CACmB;AAAA;;AACnB,gBAAI,8BAA8B,SAA9B,2BAA8B,CAAC,IAAD,EAAU;AAC3C,uBAAO,IAAP,GAAc,IAAd;;AAEH,uBAAK,QAAL,CAAc,EAAC,UAAD,EAAd,EAAsB,YAAM;AACxB,wBAAI,aAAa;AAChB,8BAAO,CADS;AAEhB,mCAAY,KAAK,SAAL,CAAe,OAFX;AAGhB,gCAAS,IAAI,KAAK,MAAT,CAAgB,IAAhB,EAAsB,CAAC,KAAvB,CAHO;AAIhB,8BAAO;AAJS,qBAAjB;;AAOA,wBAAG,OAAK,KAAL,CAAW,UAAd,EACC,aAAa,OAAK,KAAL,CAAW,UAAxB;;AAED,wBAAI,MAAM,IAAI,KAAK,GAAT,CAAc,SAAS,cAAT,CAAwB,OAAK,KAAL,CAAW,OAAnC,CAAd,EAA4D,UAA5D,CAAV;;AAEA,2BAAK,QAAL,CAAc;AACb;AADa,qBAAd;AAGA,iBAhBJ;AAiBG,aApBD;;AAsBA,gBAAG,KAAK,KAAL,CAAW,SAAX,CAAH,EAA0B;AACzB,oBAAG,CAAC,OAAO,IAAX,EACC,6BAAQ,KAAK,KAAL,CAAW,SAAX,CAAR,EAA+B,CAAC,SAAD,EAAW,UAAX,EAAsB,QAAtB,CAA/B,IAAkE,IAAlE,CAAuE,2BAAvE,EADD,KAGC,4BAA4B,OAAO,IAAnC;AACD;AACD;;;iCACQ;AAAA;;AACR,gBAAI,QAAJ;AACA,gBAAG,KAAK,KAAL,CAAW,IAAX,IAAmB,KAAK,KAAL,CAAW,GAAjC,EACC,WAAW,gBAAM,QAAN,CAAe,GAAf,CAAmB,KAAK,KAAL,CAAW,QAA9B,EAAwC;AAAA,uBAAS,gBAAM,YAAN,CAAmB,KAAnB,EAA0B;AACrF,0BAAO,OAAK,KAAL,CAAW,IADmE;AAErF,yBAAM,OAAK,KAAL,CAAW;AAFoE,iBAA1B,CAAT;AAAA,aAAxC,CAAX;;AAKE,mBAAO;AAAA;AAAA,kBAAK,IAAI,KAAK,KAAL,CAAW,OAApB,EAA6B,OAAO,KAAK,KAAL,CAAW,KAA/C;AACL;AADK,aAAP;AAGH;;;;EAtDa,gBAAM,S;;AAyDxB,IAAI,SAAJ,GAAgB;AACf,eAAY,gBAAM,SAAN,CAAgB,MAAhB,CAAuB,UADpB;AAEf,WAAQ,gBAAM,SAAN,CAAgB;AAFT,CAAhB;;kBAKe,G","file":"map.js","sourcesContent":["import React from 'react';\nimport mapsapi from 'google-maps-api';\n\nclass Map extends React.Component {\n    constructor(props) {\n        super(props);\n        this.displayName = 'Map';\n        \n\n        var _div_id = \"map_div_\" + Math.floor(Date.now() * Math.random()).toString();\n        this.state = {\n        \tmaps : null,\n        \tchildren : [],\n        \t_div_id\n        }\n    }\n    componentDidMount() {\n    \tvar initMapComponentWithLibrary = (maps) => {\n    \t\twindow.maps = maps;\n\n\t\t\tthis.setState({maps}, () => {\n\t    \t\tvar mapOptions = {\n\t    \t\t\tzoom : 4,\n\t    \t\t\tmapTypeId : maps.MapTypeId.ROADMAP,\n\t    \t\t\tcenter : new maps.LatLng(39.5, -98.35),\n\t    \t\t\tdata : null\n\t    \t\t}\n\t    \t\t\n\t    \t\tif(this.props.mapOptions)\n\t    \t\t\tmapOptions = this.props.mapOptions;\n\n\t    \t\tvar map = new maps.Map( document.getElementById(this.state._div_id) , mapOptions);\n\n\t    \t\tthis.setState({\n\t    \t\t\tmap,\n\t    \t\t});\n\t    \t});\n    \t}\n\n    \tif(this.props[\"api-key\"]) {\n    \t\tif(!window.maps)\n\t\t    \tmapsapi(this.props[\"api-key\"], ['drawing','geometry','places'])().then(initMapComponentWithLibrary);\n\t\t    else\n\t\t    \tinitMapComponentWithLibrary(window.maps);\n    \t}\n    }\n    render() {\n    \tvar children;\n    \tif(this.state.maps && this.state.map) \n\t    \tchildren = React.Children.map(this.props.children, child => React.cloneElement(child, {\n\t    \t\tmaps : this.state.maps,\n\t    \t\tmap : this.state.map\n\t    \t}));\n\n        return <div id={this.state._div_id} style={this.props.style}>\n        \t{children}\n        </div>;\n    }\n}\n\nMap.propTypes = {\n\t\"api-key\" : React.PropTypes.string.isRequired,\n\tstyle : React.PropTypes.object\n}\n\nexport default Map;\n"]}