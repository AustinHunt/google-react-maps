{"version":3,"sources":["../../src/components/customOverlay.js"],"names":[],"mappings":"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","file":"customOverlay.js","sourcesContent":["import React from 'react';\nimport ReactDom from 'react-dom';\n\nfunction GMCustomOverlay(elem, map) {\n    this.div_ = elem;\n    this.map_ = map;\n    this.coords_ = null;\n    try {\n      this.setMap(map);\n    }\n    catch(ex) {\n      console.error(ex);\n    }\n}\n\n\n\nclass CustomOverlay extends React.Component {\n    constructor(props) {\n        super(props);\n        this.displayName = 'CustomOverlay';\n        const {maps} = this.props;\n        GMCustomOverlay.prototype = new props.maps.OverlayView();\n        GMCustomOverlay.prototype.setCoords = function(coords) {\n          this.coords_ = coords;\n        }\n        GMCustomOverlay.prototype.onRemove = function() {\n          console.log(\"Remove\")\n          this.div_.parentNode.removeChild(this.div_);\n          this.div_ = null;\n        }\n\n        GMCustomOverlay.prototype.onAdd = function() {\n          let div = this.div_;\n          div.style.position = \"absolute\";\n          this.div_=div;\n          const panes = this.getPanes();\n          panes.overlayLayer.appendChild(this.div_);\n        }\n\n        GMCustomOverlay.prototype.draw = function() {\n          const overlayProjection = this.getProjection();\n          const coords = new maps.LatLng(this.coords_);\n          const coordsPixels = overlayProjection.fromLatLngToDivPixel(coords)\n          let div = this.div_;\n\n\n          div.style.left = `${(coordsPixels.x - (div.offsetWidth)/2)}px`;\n          div.style.top = `${coordsPixels.y - div.offsetHeight}px`;\n\n          // debugger;\n        }\n\n    }\n    componentDidMount() {\n      const {maps, map} = this.props;\n      try {\n        this.overlay = new GMCustomOverlay(ReactDom.findDOMNode(this.refs['custom-overlay']), this.props.map);\n        this.overlay.setCoords(this.props.coords);\n\n        if(typeof this.props.onClick === 'function')\n          maps.event.addListener(map, 'click', (event) => this.props.onClick(event));\n      }\n      catch (ex) {\n        console.error(ex)\n      }\n    }\n\n    render() {\n        return <div className={this.props.className} style={this.props.style} ref=\"custom-overlay\">{this.props.children}</div>;\n    }\n}\n\nCustomOverlay.propTypes = {\n  bounds : React.PropTypes.object,\n  maps : React.PropTypes.object,\n  map : React.PropTypes.object,\n  coords : React.PropTypes.shape({\n    lat : React.PropTypes.number.isRequired,\n    lng : React.PropTypes.number.isRequired\n  })\n}\n\nexport default CustomOverlay;\n"]}