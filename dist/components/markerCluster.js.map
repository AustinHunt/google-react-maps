{"version":3,"sources":["../../src/components/markerCluster.js"],"names":[],"mappings":";;;;;;;;AAAA;;;;AACA;;;;;;;;;;;;AACA;;;;;;;;;;;;;;IAcM,a;;;AACF,2BAAY,KAAZ,EAAmB;AAAA;;AAAA,qGACT,KADS;;AAEf,cAAK,WAAL,GAAmB,eAAnB;AACA,cAAK,KAAL,GAAa;AACZ,6BAAkB;AADN,SAAb;AAHe;AAMlB;;;;8CACqB,CACrB;;;6CACoB;AACpB,gBAAG,KAAK,KAAL,CAAW,GAAX,IAAkB,KAAK,KAAL,CAAW,IAAhC,EAAsC;AACrC,oBAAI,UAAU,EAAC,UAAU,EAAX,EAAe,SAAS,EAAxB,EAAd;;AAEA,oBAAG,KAAK,KAAL,CAAW,OAAd,EACC,UAAU,OAAO,MAAP,CAAc,OAAd,EAAuB,KAAK,KAAL,CAAW,OAAlC,CAAV;;AAED,qBAAK,QAAL,CAAc;AACb,qCAAkB,kCAAoB,KAAK,KAAL,CAAW,GAA/B,EAAoC,EAApC,EAAwC,OAAxC;AADL,iBAAd;AAGA,aATD,MAUK;AACJ,wBAAQ,KAAR,CAAc,IAAI,KAAJ,CAAU,0IAAV,CAAd;AACA;AACD;;;+CACsB;AAAA,gBACjB,eADiB,GACE,KAAK,KADP,CACjB,eADiB;;AAEtB,gBAAG,eAAH,EAAoB;AACnB,gCAAgB,YAAhB;AACA;AACD,iBAAK,QAAL,CAAc,EAAC,iBAAkB,IAAnB,EAAd;AACA;AACD;AACC;AACA;AACD;;;;iCACS;AAAA;;AACR,gBAAI,WAAW,EAAf;AADQ,yBAEU,KAAK,KAFf;AAAA,gBAEH,GAFG,UAEH,GAFG;AAAA,gBAEE,IAFF,UAEE,IAFF;;AAGR,gBAAG,KAAK,KAAL,CAAW,GAAX,IAAkB,KAAK,KAAL,CAAW,IAA7B,IAAqC,KAAK,KAAL,CAAW,eAAnD,EACC,WAAW,gBAAM,QAAN,CAAe,GAAf,CAAmB,KAAK,KAAL,CAAW,QAA9B,EAAwC;AAAA,uBAAS,gBAAM,YAAN,CAAmB,KAAnB,EAA0B;AACrF,qCAAkB,OAAK,KAAL,CAAW,eADwD;AAErF,4BAFqF;AAGrF;AAHqF,iBAA1B,CAAT;AAAA,aAAxC,CAAX;AAKE,mBAAO;AAAA;AAAA;AAAM;AAAN,aAAP;AACH;;;;EA9CuB,gBAAM,S;;AAiDlC,cAAc,SAAd,GAA0B;AACzB,SAAM,gBAAM,SAAN,CAAgB,MADG;AAEzB,UAAO,gBAAM,SAAN,CAAgB,MAFE;AAGzB,aAAU,gBAAM,SAAN,CAAgB;AAHD,CAA1B;;kBAMe,a","file":"markerCluster.js","sourcesContent":["import React from 'react';\nimport MarkerClusterer from 'marker-clusterer-plus';\n/**\n* Clusters `<Marker />` components passed as children in props.children\n\n* @memberof Map\n*\n* @property {object} props\n* @property {object} props.map The google.maps.Map object from the map component.\n* @property {Array.<Map.Marker>} props.children These should only be {@link Marker} components.\n* @property {MarkerClustererOptions} props.options The MarkerClusterer instantiates with these options.\n* @property {object} state The state of the MarkerCluster component.\n* @property {MarkerClusterer} state.MarkerClusterer The instance of {@link MarkerClusterer} for this component.\n*\n*\n*/\nclass MarkerCluster extends React.Component {\n    constructor(props) {\n        super(props);\n        this.displayName = 'MarkerCluster';\n        this.state = {\n        \tMarkerClusterer : null\n        }\n    }\n    componentWillUpdate() {\n    }\n    componentWillMount() {\n    \tif(this.props.map && this.props.maps) {\n\t    \tvar options = {gridSize: 50, maxZoom: 15}\n\n\t    \tif(this.props.options)\n\t    \t\toptions = Object.assign(options, this.props.options);\n\n\t    \tthis.setState({\n\t    \t\tMarkerClusterer : new MarkerClusterer(this.props.map, [], options)\n\t    \t});\n    \t}\n    \telse {\n    \t\tconsole.error(new Error(\"You must run <MarkerCluster /> components within the context of a <Map /> component. Otherwise, provide the maps and map props manually.\"));\n    \t}\n    }\n    componentWillUnmount() {\n    \tvar {MarkerClusterer} = this.state;\n    \tif(MarkerClusterer) {\n    \t\tMarkerClusterer.clearMarkers();\n    \t}\n\t    this.setState({MarkerClusterer : null})\n    }\n    // componentDidUpdate() {\n    \t// if(this.state.MarkerClusterer)\n    \t// \tthis.state.MarkerClusterer.repaint();\n    // }\n    render() {\n    \tvar children = [];\n    \tvar {map, maps} = this.props;\n    \tif(this.props.map && this.props.maps && this.state.MarkerClusterer)\n\t    \tchildren = React.Children.map(this.props.children, child => React.cloneElement(child, {\n\t    \t\tMarkerClusterer : this.state.MarkerClusterer,\n\t    \t\tmap,\n\t    \t\tmaps\n\t    \t}))\n        return <div>{children}</div>;\n    }\n}\n\nMarkerCluster.propTypes = {\n\tmap : React.PropTypes.object,\n\tmaps : React.PropTypes.object,\n\toptions : React.PropTypes.object\n}\n\nexport default MarkerCluster;\n"]}